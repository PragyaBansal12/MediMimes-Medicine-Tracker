{% load static %}
{% load socialaccount %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Patient Registration - HealthConnect</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* ---------- Design tokens (Clean Medical Theme) ---------- */
        :root{
            --bg: #f7fafc;              /* very light gray */
            --card-bg: #ffffff;         /* white cards */
            --primary: #0d6efd;         /* bootstrap primary (blue) */
            --teal: #0bb5a3;            /* calm teal accent */
            --muted: #6c757d;           /* muted text */
            --success: #198754;
            --radius: 14px;
            --glass-border: rgba(13,110,253,0.06);
            --shadow-1: 0 6px 18px rgba(18,52,84,0.06);
            --shadow-2: 0 1px 0 rgba(255,255,255,0.6) inset;
            font-family: "Inter", "Quicksand", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
        }

        html,body{
            height:100%;
            background: linear-gradient(180deg, var(--bg) 0%, #eef6fb 100%);
            color: #0b2447;
            -webkit-font-smoothing:antialiased;
            -moz-osx-font-smoothing:grayscale;
        }

        /* Centering container */
        .page-wrap{
            min-height:100vh;
            display:flex;
            align-items:center;
            justify-content:center;
            padding:3rem 1rem;
        }

        /* Left info panel (desktop) */
        .info-panel{
            width: 440px;
            max-width: 40vw;
            background: linear-gradient(180deg, #ffffff 0%, #f8fbff 100%);
            border-radius: var(--radius);
            padding: 2.25rem;
            margin-right: 2rem;
            box-shadow: var(--shadow-1);
            border: 1px solid var(--glass-border);
        }

        .brand {
            display:flex;
            align-items:center;
            gap:.75rem;
            margin-bottom:1rem;
        }
        .brand .logo {
            width:54px; height:54px;
            border-radius:12px;
            background: linear-gradient(135deg, var(--teal), var(--primary));
            display:flex; align-items:center; justify-content:center;
            color:white; font-size:1.2rem;
            box-shadow: 0 6px 20px rgba(11,181,163,0.12);
        }
        .brand h3{
            margin:0; font-size:1.1rem; font-weight:700; letter-spacing: -0.2px;
            color: #07334a;
        }
        .info-panel h4{
            margin-top:.5rem; margin-bottom:.5rem; color:#063047;
            font-size:1.25rem;
        }
        .info-panel p.lead{
            color:var(--muted); margin-bottom:1.25rem;
        }

        /* Card (form) */
        .signup-card{
            width:420px;
            max-width:100%;
            border-radius: var(--radius);
            background: var(--card-bg);
            box-shadow: var(--shadow-1);
            padding: 2rem;
            border: 1px solid var(--glass-border);
        }

        .icon-circle{
            width:72px; height:72px; border-radius:12px;
            display:flex; align-items:center; justify-content:center;
            background: linear-gradient(180deg, rgba(13,110,253,0.08), rgba(11,181,163,0.04));
            border: 1px solid rgba(13,110,253,0.06);
            margin: 0 auto 0.8rem auto;
            color: var(--primary); font-size:1.6rem;
        }

        h1.title{
            text-align:center; font-size:1.5rem; margin-bottom:.35rem;
            color:#072338; font-weight:700;
        }
        p.subtitle{
            text-align:center; color:var(--muted); margin-bottom:1.25rem;
        }

        /* Clean inputs */
        .form-control-clean{
            border:1px solid #e6eef7;
            border-radius: 12px;
            padding: .75rem 1rem;
            background: #fbfdff;
            transition: all .15s ease-in-out;
            color: #062335;
            box-shadow: var(--shadow-2);
            margin-bottom: .9rem;
        }
        .form-control-clean:focus{
            outline:none;
            box-shadow: 0 6px 18px rgba(13,110,253,0.08);
            border:1px solid rgba(13,110,253,0.25);
            transform: translateY(-1px);
        }

        /* Primary CTA */
        .btn-primary-health{
            border-radius: 12px;
            background: linear-gradient(90deg, var(--teal) 0%, var(--primary) 100%);
            border: none;
            color: #fff;
            padding: .75rem .9rem;
            font-weight:700;
            width:100%;
            box-shadow: 0 8px 24px rgba(13,110,253,0.08);
        }
        .btn-primary-health:hover{
            transform: translateY(-2px);
            filter:brightness(1.04);
        }

        /* Google button - subtle outline */
        .btn-google-health{
            border-radius: 12px;
            background: #fff;
            border: 1px solid #e7eef7;
            color: #0b2447;
            padding: .72rem .9rem;
            width:100%;
            display:flex;
            align-items:center;
            justify-content:center;
            gap:.6rem;
            font-weight:600;
            margin-top:.75rem;
        }
        .btn-google-health img{ width:20px; height:20px; }

        .link-health{
            display:inline-block;
            color: var(--primary);
            font-weight:600;
            text-decoration:none;
        }
        .link-health:hover{ text-decoration:underline; }

        .divider{
            display:flex; align-items:center; gap: .75rem;
            color: #c3d7ea; font-weight:500; margin:1rem 0;
        }
        .divider::before{ content:""; flex:1; height:1px; background:#eef6fb; }
        .divider::after{ content:""; flex:1; height:1px; background:#eef6fb; }

        /* Alerts */
        .alert{
            border-radius:12px; border:none; padding:.7rem .9rem; font-weight:600;
        }

        /* Small note */
        .note {
            font-size:.92rem; color:var(--muted); text-align:center; margin-top:.6rem;
        }

        /* Responsive adjustments */
        @media (max-width: 992px){
            .info-panel { display:none; }
            .page-wrap { padding: 2rem 1rem; }
        }
        @media (max-width: 420px) {
            .signup-card { padding:1.25rem; border-radius:12px; }
            .icon-circle { width:60px; height:60px; }
            h1.title { font-size:1.25rem; }
        }
    </style>
</head>
<body>
    <div class="page-wrap">
        <!-- Left information panel (hidden on small screens) -->
        

        <!-- Signup card (main) -->
        <main class="signup-card" role="main" aria-labelledby="title-register">
            <div class="icon-circle" aria-hidden="true">
                <i class="fas fa-hand-holding-medical" style="font-size:24px"></i>
            </div>

            <h1 id="title-register" class="title">Secure Your Access</h1>
            <p class="subtitle">Register to receive your <strong>Verification Code</strong> via email.</p>

            <!-- Messages -->
            {% if messages %}
            <div class="mb-3">
                {% for message in messages %}
                <div class="alert alert-{{ message.tags }} text-center" role="alert">
                    <i class="fas fa-info-circle me-2"></i> {{ message }}
                </div>
                {% endfor %}
            </div>
            {% endif %}

            <!-- Form (same fields & behavior) -->
            <form method="post" novalidate>
                {% csrf_token %}
                
                <input type="text" name="username" placeholder="Patient ID (Username)" class="form-control-clean form-control" required>

                <input type="email" name="email" placeholder="Primary Contact Email" class="form-control-clean form-control" required>

                <input type="password" name="password" placeholder="Create a Secure Passkey" class="form-control-clean form-control" required>

                <button type="submit" class="btn btn-primary-health mt-2 mb-2">
                    <i class="fas fa-envelope me-2"></i> Request Verification Code
                </button>
            </form>

            <div class="text-center">
                <a href="{% url 'login' %}" class="link-health">
                    <i class="fas fa-user-check me-1"></i> Already registered? Sign In
                </a>
            </div>

            <div class="divider my-3">OR</div>

            <a href="{% provider_login_url 'google' %}" class="btn-google-health" role="button" aria-pressed="false">
                <img src="{% static 'images/google.png' %}" alt="Google" />
                Register with Google
            </a>
        </main>
    </div>

    <!-- Bootstrap JS (optional, for interactive components) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>